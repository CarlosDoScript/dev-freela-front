import{a as z,b as B,c as U,d as j,e as G,f as V,g as A,h as L}from"./chunk-ATGHTU5J.js";import{b as h,d as p,f as E,g as y,i as F,j as R,k as N,l as k,m as w,n as T}from"./chunk-4PJ3TXTO.js";import{a as J,b as q,e as D,f as H}from"./chunk-LG2G5NZQ.js";import{$ as M,C as b,Fa as a,Ga as g,W as l,Z as f,Za as I,ab as O,d as W,da as c,eb as P,ha as s,ib as S,na as i,oa as e,pa as m,ta as u,ua as d,z as x}from"./chunk-YW53WYO2.js";var _=W(J());var X=H.apiUrl,C=class r{constructor(n){this.http=n}postUser(n){return this.http.post(X+"/users",n)}static \u0275fac=function(t){return new(t||r)(b(P))};static \u0275prov=x({token:r,factory:r.\u0275fac,providedIn:"root"})};function Z(r,n){r&1&&(i(0,"span",20),a(1,"Preencha uma role"),e())}function $(r,n){if(r&1&&(i(0,"mat-error"),a(1),e()),r&2){let t=d();l(),g(t.message.required)}}function ee(r,n){if(r&1&&(i(0,"mat-error"),a(1),e()),r&2){let t=d();l(),g(t.message.required)}}function te(r,n){if(r&1&&(i(0,"mat-error"),a(1),e()),r&2){let t=d();l(),g(t.message.required)}}function re(r,n){if(r&1&&(i(0,"mat-error"),a(1),e()),r&2){let t=d();l(),g(t.message.email)}}function ie(r,n){if(r&1&&(i(0,"mat-error"),a(1),e()),r&2){let t=d();l(),g(t.message.required)}}var Q=class r{constructor(n,t,o){this.fb=n;this.registerService=t;this.router=o;this.registerForm=this.fb.group({role:["",p.required],fullName:["",p.required],birthDate:["",p.required],email:["",[p.required,p.email]],password:["",[p.required]]})}registerForm;message=A;cadastrar(){if(!this.registerForm.valid){this.registerForm.markAllAsTouched();return}let n=this.registerForm.value;this.registerService.postUser(n).subscribe({next:t=>{_.default.fire({title:"Bom Trabalho!",text:"Cadastrado com sucesso!",icon:"success",confirmButtonText:"Ok!"}).then(o=>{o.isConfirmed&&(localStorage.setItem("userName",t.fullName),localStorage.setItem("role",t.role==="dev"?"Desenvolvedor":"Cliente"),localStorage.setItem("idClient",t.id),this.router.navigate(["project/list"]))})},error:t=>{_.default.fire({title:"Erro!",text:"Falha ao cadastrar. Tente novamente.",icon:"error",confirmButtonText:"Ok"})}})}toogleRole(n){this.registerForm.get("role")?.setValue(n)}isInvalid(n,t){let o=this.registerForm.get(n);return!!(o?.errors?.[t]&&o.touched)}static \u0275fac=function(t){return new(t||r)(f(w),f(C),f(S))};static \u0275cmp=M({type:r,selectors:[["app-register"]],decls:44,vars:7,consts:[[1,"ld-register"],[1,"left",3,"ngSubmit","formGroup"],[1,"main-title"],[1,"up"],[1,"down"],[1,"radio-buttons"],[1,"title"],[1,"buttons"],[1,"ld-radio"],["type","radio","formControlName","role","value","dev",3,"click"],[1,"checkmark"],["type","radio","formControlName","role","value","cliente",3,"click"],["class","role-invalid",4,"ngIf"],["appearance","outline",1,"campo-completo"],["matInput","","formControlName","fullName"],[4,"ngIf"],["type","date","matInput","","formControlName","birthDate"],["matInput","","formControlName","email"],["type","password","matInput","","formControlName","password"],["text","Continuar"],[1,"role-invalid"]],template:function(t,o){t&1&&(i(0,"div",0)(1,"app-ld-wrapper")(2,"form",1),u("ngSubmit",function(){return o.cadastrar()}),i(3,"h1",2)(4,"span",3),a(5,"Ol\xE1!"),e(),i(6,"span",4),a(7,"Vamos criar seu cadastro."),e()(),i(8,"div",5)(9,"h3",6),a(10,"Qual o seu perfil?"),e(),i(11,"div",7)(12,"label",8),a(13," Dev "),i(14,"input",9),u("click",function(){return o.toogleRole("dev")}),e(),m(15,"span",10),e(),i(16,"label",8),a(17," Cliente "),i(18,"input",11),u("click",function(){return o.toogleRole("cliente")}),e(),m(19,"span",10),e()(),c(20,Z,2,0,"span",12),e(),i(21,"mat-form-field",13)(22,"mat-label"),a(23,"Nome Completo"),e(),m(24,"input",14),c(25,$,2,1,"mat-error",15),e(),i(26,"mat-form-field",13)(27,"mat-label"),a(28,"Data de nascimento"),e(),m(29,"input",16),c(30,ee,2,1,"mat-error",15),e(),i(31,"mat-form-field",13)(32,"mat-label"),a(33,"Email"),e(),m(34,"input",17),c(35,te,2,1,"mat-error",15)(36,re,2,1,"mat-error",15),e(),i(37,"mat-form-field",13)(38,"mat-label"),a(39,"Senha"),e(),m(40,"input",18),c(41,ie,2,1,"mat-error",15),e(),m(42,"app-ld-button",19),e(),m(43,"app-ld-bg-cubes"),e()()),t&2&&(l(2),s("formGroup",o.registerForm),l(18),s("ngIf",o.isInvalid("role","required")),l(5),s("ngIf",o.isInvalid("fullName","required")),l(5),s("ngIf",o.isInvalid("birthDate","required")),l(5),s("ngIf",o.isInvalid("email","required")),l(),s("ngIf",o.isInvalid("email","email")),l(5),s("ngIf",o.isInvalid("password","required")))},dependencies:[T,F,h,R,E,y,N,k,q,D,j,U,z,B,V,G,O,I,L],styles:[".ld-register[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{max-width:450px;margin:auto}.ld-register[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] > .radio-buttons[_ngcontent-%COMP%]{margin-bottom:42px}.ld-register[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] > .radio-buttons[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:calc(var(--ld-font-size-base) + 8px);font-weight:800;margin-bottom:16px}.ld-register[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] > .radio-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .ld-radio[_ngcontent-%COMP%]{margin-right:70px}.ld-register[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] > .radio-buttons[_ngcontent-%COMP%] > .role-invalid[_ngcontent-%COMP%]{color:red;display:inline-block;margin-top:15px;font-weight:300;font-size:12px}.ld-register[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] > .main-title[_ngcontent-%COMP%]{font-weight:800;margin-bottom:40px}.ld-register[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] > .main-title[_ngcontent-%COMP%] > .up[_ngcontent-%COMP%]{font-size:calc(var(--ld-font-size-base) + 38px);display:block;margin-bottom:7px}.ld-register[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] > .main-title[_ngcontent-%COMP%] > .down[_ngcontent-%COMP%]{font-size:calc(var(--ld-font-size-base) + 22px)}.ld-register[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] > .steps[_ngcontent-%COMP%]{display:block;font-weight:800;font-size:calc(var(--ld-font-size-base) + 4px);color:var(--ld-color-gray);margin-bottom:13px}"]})};export{Q as RegisterComponent};
