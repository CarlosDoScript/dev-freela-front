import{a as k}from"./chunk-4RZAZVH2.js";import{a as D,b as L,d as y,e as O}from"./chunk-LG2G5NZQ.js";import{$ as j,$a as T,Fa as n,G as f,Ga as d,H as _,Ka as w,La as h,W as c,Z as u,Za as E,ab as I,d as B,da as x,ha as C,ka as P,la as g,ma as b,na as i,oa as t,ra as S,ta as s,ua as m}from"./chunk-YW53WYO2.js";var l=B(D());function N(r,o){if(r&1){let e=S();i(0,"div",10)(1,"div",12)(2,"h6",3),n(3),t(),i(4,"p",13),n(5),t()(),i(6,"div",14),n(7),w(8,"currency"),t(),i(9,"div",15)(10,"span",16),s("click",function(){let p=f(e).$implicit,v=m(2);return _(v.navigation.redirectToWithParams("project/create-edit",p.id))}),n(11,"edit"),t(),i(12,"span",16),s("click",function(){let p=f(e).$implicit,v=m(2);return _(v.DeleteProject(p.id))}),n(13,"delete_outline"),t()()()}if(r&2){let e=o.$implicit;c(3),d(e.title),c(2),d(e.description),c(2),d(h(8,3,e.totalCost))}}function F(r,o){if(r&1&&(i(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div"),n(5,"T\xEDtulo"),t(),i(6,"div"),n(7,"Custo Total"),t(),i(8,"div"),n(9,"A\xE7\xF5es"),t()()(),i(10,"div",11),g(11,N,14,5,"div",10,P),t()()()),r&2){let e=m();c(11),b(e.projects)}}var M=class r{constructor(o,e){this.projectService=o;this.navigation=e}projects=[];ngOnInit(){this.getProjects()}getProjects(){this.projectService.GetProjects().subscribe({next:o=>{this.projects=o},error:o=>{l.default.fire({title:"Erro!",text:"Falha ao obter projetos. Tente novamente.",icon:"error",confirmButtonText:"Ok"})}})}DeleteProject(o){l.default.fire({title:"Tem certeza?",text:"Essa a\xE7\xE3o n\xE3o poder\xE1 ser desfeita!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim, deletar!",cancelButtonText:"N\xE3o"}).then(e=>{e.isConfirmed&&this.projectService.DeleteProject(o).subscribe({next:()=>{l.default.fire("Deletado!","O projeto foi deletado com sucesso.","success"),this.getProjects()},error:a=>{l.default.fire("Erro!","Falha ao deletar o projeto. Tente novamente.","error")}})})}static \u0275fac=function(e){return new(e||r)(u(k),u(y))};static \u0275cmp=j({type:r,selectors:[["app-project-list"]],decls:8,vars:1,consts:[[1,"ld-list"],["type","one-col"],[1,"title-button"],[1,"title"],[1,"button-wrapper"],["text","Novo Projeto",3,"click"],["class","table-wrapper",4,"ngIf"],[1,"table-wrapper"],[1,"ld-table"],[1,"head"],[1,"row"],[1,"body"],[1,"title-description"],[1,"description"],[1,"price"],[1,"actions"],[1,"edit","material-icons",3,"click"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"app-ld-wrapper",1)(2,"div",2)(3,"h1",3),n(4,"Projetos"),t(),i(5,"div",4)(6,"app-ld-button",5),s("click",function(){return a.navigation.redirectTo("project/create-edit")}),t()()(),x(7,F,13,0,"div",6),t()()),e&2&&(c(7),C("ngIf",a.projects.length>0))},dependencies:[O,I,E,T,L],styles:[".ld-list[_ngcontent-%COMP%]   .title-button[_ngcontent-%COMP%]{margin-top:70px;display:flex;width:100%;justify-content:space-between}.ld-list[_ngcontent-%COMP%]   .title-button[_ngcontent-%COMP%] > .title[_ngcontent-%COMP%]{font-size:calc(var(--ld-font-size-base) + 30px);font-weight:700}.ld-list[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{margin-top:32px}"]})};export{M as ProjectListComponent};
