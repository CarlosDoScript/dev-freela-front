import{a as z,b as B,c as U,d as j,e as G,f as V,g as A,h as H,i as L}from"./chunk-RMOZLYPB.js";import{b as S,d as p,f as E,g as F,i as y,j as R,k as N,l as k,m as w,n as T}from"./chunk-4PJ3TXTO.js";import{a as K,b as q,e as D,f as Q}from"./chunk-LG2G5NZQ.js";import{$ as M,C as x,Fa as a,Ga as g,W as l,Z as f,Za as I,ab as h,d as J,da as c,eb as O,ha as s,ib as P,na as n,oa as e,pa as m,ta as u,ua as d,z as b}from"./chunk-YW53WYO2.js";var _=J(K());var Y=Q.apiUrl,C=class t{constructor(o){this.http=o}postUser(o){return this.http.post(Y+"/users",o)}static \u0275fac=function(r){return new(r||t)(x(O))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})};function $(t,o){t&1&&(n(0,"span",20),a(1,"Preencha uma role"),e())}function ee(t,o){if(t&1&&(n(0,"mat-error"),a(1),e()),t&2){let r=d();l(),g(r.message.required)}}function te(t,o){if(t&1&&(n(0,"mat-error"),a(1),e()),t&2){let r=d();l(),g(r.message.required)}}function re(t,o){if(t&1&&(n(0,"mat-error"),a(1),e()),t&2){let r=d();l(),g(r.message.required)}}function ie(t,o){if(t&1&&(n(0,"mat-error"),a(1),e()),t&2){let r=d();l(),g(r.message.email)}}function ne(t,o){if(t&1&&(n(0,"mat-error"),a(1),e()),t&2){let r=d();l(),g(r.message.required)}}var W=class t{constructor(o,r,i){this.fb=o;this.registerService=r;this.router=i;this.registerForm=this.fb.group({role:["",p.required],fullName:["",p.required],birthDate:["",p.required],email:["",[p.required,p.email]],password:["",[p.required]]})}registerForm;message=A;helpers=L;cadastrar(){if(!this.registerForm.valid){this.registerForm.markAllAsTouched();return}let o=this.registerForm.value;this.registerService.postUser(o).subscribe({next:r=>{_.default.fire({title:"Bom Trabalho!",text:"Cadastrado com sucesso!",icon:"success",confirmButtonText:"Ok!"}).then(i=>{i.isConfirmed&&(localStorage.setItem("userName",r.fullName),localStorage.setItem("role",r.role==="dev"?"Desenvolvedor":"Cliente"),localStorage.setItem("idClient",r.id),this.router.navigate(["project/list"]))})},error:r=>{_.default.fire({title:"Erro!",text:"Falha ao cadastrar. Tente novamente.",icon:"error",confirmButtonText:"Ok"})}})}toogleRole(o){this.registerForm.get("role")?.setValue(o)}static \u0275fac=function(r){return new(r||t)(f(w),f(C),f(P))};static \u0275cmp=M({type:t,selectors:[["app-register"]],decls:44,vars:7,consts:[[1,"ld-register"],[1,"left",3,"ngSubmit","formGroup"],[1,"main-title"],[1,"up"],[1,"down"],[1,"radio-buttons"],[1,"title"],[1,"buttons"],[1,"ld-radio"],["type","radio","formControlName","role","value","dev",3,"click"],[1,"checkmark"],["type","radio","formControlName","role","value","cliente",3,"click"],["class","role-invalid",4,"ngIf"],["appearance","outline",1,"campo-completo"],["matInput","","formControlName","fullName"],[4,"ngIf"],["type","date","matInput","","formControlName","birthDate"],["matInput","","formControlName","email"],["type","password","matInput","","formControlName","password"],["text","Continuar"],[1,"role-invalid"]],template:function(r,i){r&1&&(n(0,"div",0)(1,"app-ld-wrapper")(2,"form",1),u("ngSubmit",function(){return i.cadastrar()}),n(3,"h1",2)(4,"span",3),a(5,"Ol\xE1!"),e(),n(6,"span",4),a(7,"Vamos criar seu cadastro."),e()(),n(8,"div",5)(9,"h3",6),a(10,"Qual o seu perfil?"),e(),n(11,"div",7)(12,"label",8),a(13," Dev "),n(14,"input",9),u("click",function(){return i.toogleRole("dev")}),e(),m(15,"span",10),e(),n(16,"label",8),a(17," Cliente "),n(18,"input",11),u("click",function(){return i.toogleRole("cliente")}),e(),m(19,"span",10),e()(),c(20,$,2,0,"span",12),e(),n(21,"mat-form-field",13)(22,"mat-label"),a(23,"Nome Completo"),e(),m(24,"input",14),c(25,ee,2,1,"mat-error",15),e(),n(26,"mat-form-field",13)(27,"mat-label"),a(28,"Data de nascimento"),e(),m(29,"input",16),c(30,te,2,1,"mat-error",15),e(),n(31,"mat-form-field",13)(32,"mat-label"),a(33,"Email"),e(),m(34,"input",17),c(35,re,2,1,"mat-error",15)(36,ie,2,1,"mat-error",15),e(),n(37,"mat-form-field",13)(38,"mat-label"),a(39,"Senha"),e(),m(40,"input",18),c(41,ne,2,1,"mat-error",15),e(),m(42,"app-ld-button",19),e(),m(43,"app-ld-bg-cubes"),e()()),r&2&&(l(2),s("formGroup",i.registerForm),l(18),s("ngIf",i.helpers.isInvalid(i.registerForm,"role","required")),l(5),s("ngIf",i.helpers.isInvalid(i.registerForm,"fullName","required")),l(5),s("ngIf",i.helpers.isInvalid(i.registerForm,"birthDate","required")),l(5),s("ngIf",i.helpers.isInvalid(i.registerForm,"email","required")),l(),s("ngIf",i.helpers.isInvalid(i.registerForm,"email","email")),l(5),s("ngIf",i.helpers.isInvalid(i.registerForm,"password","required")))},dependencies:[T,y,S,R,E,F,N,k,q,D,j,U,z,B,V,G,h,I,H],styles:[".ld-register[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{max-width:450px;margin:auto}.ld-register[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] > .radio-buttons[_ngcontent-%COMP%]{margin-bottom:42px}.ld-register[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] > .radio-buttons[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:calc(var(--ld-font-size-base) + 8px);font-weight:800;margin-bottom:16px}.ld-register[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] > .radio-buttons[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .ld-radio[_ngcontent-%COMP%]{margin-right:70px}.ld-register[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] > .radio-buttons[_ngcontent-%COMP%] > .role-invalid[_ngcontent-%COMP%]{color:red;display:inline-block;margin-top:15px;font-weight:300;font-size:12px}.ld-register[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] > .main-title[_ngcontent-%COMP%]{font-weight:800;margin-bottom:40px}.ld-register[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] > .main-title[_ngcontent-%COMP%] > .up[_ngcontent-%COMP%]{font-size:calc(var(--ld-font-size-base) + 38px);display:block;margin-bottom:7px}.ld-register[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] > .main-title[_ngcontent-%COMP%] > .down[_ngcontent-%COMP%]{font-size:calc(var(--ld-font-size-base) + 22px)}.ld-register[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%] > .steps[_ngcontent-%COMP%]{display:block;font-weight:800;font-size:calc(var(--ld-font-size-base) + 4px);color:var(--ld-color-gray);margin-bottom:13px}"]})};export{W as RegisterComponent};
